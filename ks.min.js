// Ks Â© 2014 Andrey Polischuk
// https://github.com/andrepolischuk/ks
!function(){"use strict";function f(a){return d[a]||a.toUpperCase().charCodeAt(0)}function g(a,b,c){a.addEventListener?a.addEventListener(b,c,!1):a.attachEvent("on"+b,function(){c(window.event)})}function h(a,b){var c=null===a.target?null:"string"==typeof b.target?b.target:/^#.+$/g.test(a.target)?"#"+b.target.id:b.target.tagName.toLowerCase();return a.target===c&&a.keyCode===b.keyCode&&a.altKey===b.altKey&&a.ctrlKey===b.ctrlKey&&a.shiftKey===b.shiftKey}function i(a){a.target=a.target||a.srcElement;for(var c=0;c<b.length;c++)h(b[c],a)&&b[c].fn.call(a.target,b[c])}function j(a){var b={};return b.comb=a.replace(/\s/g,""),a=a.split("+"),b.keyCode=f(a[a[0]in c?1:0]),b.altKey="alt"===a[0]||"option"===a[0],b.ctrlKey="ctrl"===a[0]||"control"===a[0],b.shiftKey="shift"===a[0],b}function k(a,c,d){var e=j(a);e.target=c,e.fn=d,b.push(e)}function l(a,b,c){c="function"==typeof b?b:c,b="string"==typeof b?b:null,"function"==typeof c&&"string"==typeof a&&k(a,b,c)}for(var b=[],c={ctrl:17,control:17,alt:18,option:18,shift:16},d={escape:27,esc:27,"`":192,"-":189,"=":187,backspace:8,tab:9,"\\":220,"[":219,"]":221,";":186,"'":222,enter:13,"return":13,",":188,".":190,"/":191,space:32,pause:19,insert:45,"delete":46,home:36,end:35,pageup:33,pagedown:34,left:37,up:38,right:39,down:40},e=1;20>e;e++)d["F"+e]=111+e;l.remove=function(a,c){if("string"==typeof a){var d=j(a);d.target=c||null;for(var e=0;e<b.length;e++)h(b[e],d)&&(b.splice(e,1),e--)}},g(document,"keydown",i),"function"==typeof define&&define.amd?define([],function(){return l}):"undefined"!=typeof module&&module.exports?module.exports=l:this.ks=l}.call(this);
